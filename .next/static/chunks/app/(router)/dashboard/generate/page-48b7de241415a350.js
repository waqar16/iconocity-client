(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[524],{9866:function(e,t,s){Promise.resolve().then(s.bind(s,1683))},1683:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return em}});var l=s(7437),r=s(2265),a=s(9354),o=s(7019),i=s(5733);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...o}=e;return(0,l.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-black focus-visible:outline-none  focus-visible:ring-none focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",s),ref:t,...o})});n.displayName="Input",r.forwardRef((e,t)=>{let{className:s,...c}=e,[d,u]=r.useState(!1);return(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)(n,{type:d?"text":"password",className:(0,a.cn)("pr-10",s),ref:t,...c}),(0,l.jsx)("button",{type:"button",className:"absolute top-1/2 text-primary-500 -translate-y-1/2 right-3 items-center z-10 cursor-pointer flex",onClick:()=>{u(!d)},children:d?(0,l.jsx)(o.Z,{size:16}):(0,l.jsx)(i.Z,{size:16})})]})}).displayName="PasswordInput";var c=s(9733),d=s(8137);let u=(0,r.createContext)({selectedProjectId:null,setSelectedProjectId:()=>{},selectedProjectHistoryId:null,setSelectedProjectHistoryId:()=>{}}),x=e=>{let{children:t}=e,[s,a]=(0,r.useState)(null),[o,i]=(0,r.useState)(null);return(0,l.jsx)(u.Provider,{value:{selectedProjectId:s,setSelectedProjectId:a,selectedProjectHistoryId:o,setSelectedProjectHistoryId:i},children:t})};var h=s(3811),p=s(9555),m=s(7776);let g=async e=>{let{project_id:t,query:s}=e;return(await h.Z.post("query/UpdateIconsByQuery/",{project_id:t,query:s})).data},f=()=>{let e=(0,p.useQueryClient)();return(0,p.useMutation)({mutationFn:g,onSuccess:()=>{e.invalidateQueries({queryKey:["project-history"]})},onError:e=>{var t,s,l,r,a,o;m.A.error((null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||(null==e?void 0:e.message)||(null==e?void 0:null===(r=e.respone)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.query_response)),console.log((null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.error)||(null==e?void 0:e.message))}})};var v=s(6648),b=s(994),j=e=>{let{keywords:t,setPageNumber:s,setShowChat:a,messages:o,setMessages:i}=e,{selectedProjectId:x}=(0,r.useContext)(u),[h,p]=(0,r.useState)(""),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{m.current&&m.current.scrollTo({top:m.current.scrollHeight,behavior:"smooth"})},[o]),(0,r.useEffect)(()=>{let e=localStorage.getItem("chatMessages");e&&i(JSON.parse(e))},[i]),(0,r.useEffect)(()=>{localStorage.setItem("chatMessages",JSON.stringify(o))},[o]);let{mutate:g,isLoading:j}=f(),w=e=>{if(e.preventDefault(),!h.trim())return;let t={id:Date.now().toString(),content:h,isUser:!0};i(e=>[...e,t]);let l={id:Date.now().toString(),content:"",isUser:!1};i(e=>[...e,l]),p(""),g({project_id:x,query:h},{onSuccess:e=>{s(1),i(t=>{let s=t[t.length-1];return s.isUser?t:[...t.slice(0,-1),{...s,content:e.query_response}]})},onError:()=>{i(e=>{let t=e[e.length-1];return t.isUser?e:[...e.slice(0,-1),{...t,content:"Please retry with a different query and be specific in your request."}]})}})},y=(0,r.useCallback)(()=>{i([]),localStorage.removeItem("chatMessages")},[i]);return(0,r.useEffect)(()=>{p(t.join(", "))},[t]),(0,l.jsxs)("div",{className:"absolute bottom-[-50px] right-[-60px] bg-chatbot-gradient border border-white rounded-2xl px-4 py-5 mt-5 w-[290px] z-[100] h-[450px]",children:[(0,l.jsxs)("div",{className:"flex flex-row items center ".concat(o.length>0?"justify-between":"justify-end","  "),children:[o.length>0&&(0,l.jsx)("p",{className:"  text-white hover:text-blue-500 font-normal text-xs underline cursor-pointer",onClick:()=>y(),children:"Clear Chat"}),(0,l.jsx)("svg",{onClick:()=>{a(!1)},className:"cursor-pointer",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M6.99486 7.00636C6.60433 7.39689 6.60433 8.03005 6.99486 8.42058L10.58 12.0057L6.99486 15.5909C6.60433 15.9814 6.60433 16.6146 6.99486 17.0051C7.38538 17.3956 8.01855 17.3956 8.40907 17.0051L11.9942 13.4199L15.5794 17.0051C15.9699 17.3956 16.6031 17.3956 16.9936 17.0051C17.3841 16.6146 17.3841 15.9814 16.9936 15.5909L13.4084 12.0057L16.9936 8.42059C17.3841 8.03007 17.3841 7.3969 16.9936 7.00638C16.603 6.61585 15.9699 6.61585 15.5794 7.00638L11.9942 10.5915L8.40907 7.00636C8.01855 6.61584 7.38538 6.61584 6.99486 7.00636Z",fill:"white"})})]}),(0,l.jsxs)("div",{className:"flex items-center bg-[#1C2038] border border-[#2D3033] focus-within:border-white rounded-lg mt-4 py-1 pl-3 pr-3",children:[(0,l.jsx)(n,{type:"text",value:h,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"!==e.key||j||w(e)},placeholder:"Type your request",className:"text-white placeholder:text-[#7C7F99] flex-1 bg-transparent border-none"}),(0,l.jsx)(c.z,{type:"submit",onClick:w,disabled:j,className:"bg-transparent border border-white px-3",children:(0,l.jsx)(b.Z,{className:"w-3 h-auto text-[#BAC0DD]"})})]}),o.length>0?(0,l.jsx)("div",{className:"min-h-[300px] space-y-5 mt-9  overflow-y-auto custom-scrollbar",ref:m,children:o.map(e=>(0,l.jsxs)("div",{className:"w-[90%] flex gap-5 ",children:[(0,l.jsx)(v.default,{src:e.isUser?"/default-user.svg":"/generate/chat-ai.svg",width:300,height:300,alt:"profile",className:" w-5 h-5 shrink-0 object-cover rounded-full"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-base text-white font-semibold",children:e.isUser?"User":"AI"}),!j||e.isUser||e.content?(0,l.jsx)("p",{className:"text-sm text-[#BAC0DD] leading-6 font-light",children:e.content}):(0,l.jsx)("div",{className:"ml-1.5 dot-falling mt-2"})]})]},e.id))}):(0,l.jsx)("div",{className:"h-[100px] flex items-center justify-center",children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 text-white",children:[(0,l.jsx)(d.P.message,{}),(0,l.jsx)("p",{className:"text-xs",children:"Type your icon design requests here"})]})}),(0,l.jsx)("p",{className:"text-xs text-[#BAC0DD] text-center font-light mt-3",children:"Iconocity can make mistakes. Be specific in your requests."})]})};let w=async e=>{let{project_id:t,new_name:s}=e;return(await h.Z.post("app/changeProjectName/",{project_id:t,new_name:s})).data},y=()=>{let e=(0,p.useQueryClient)();return(0,p.useMutation)({mutationFn:w,onSuccess:t=>{m.A.success(t.success||"Update project name!"),e.invalidateQueries({queryKey:["get-project-list"]})},onError:e=>{var t,s;m.A.error((null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||(null==e?void 0:e.message))}})};var N=s(2649);let C=async()=>(await h.Z.get("app/getProjectList")).data,k=()=>(0,p.useQuery)({queryKey:["get-project-list"],queryFn:C,onError:e=>{var t,s,l;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===401?(N.Z.remove("token"),window.location.href="/auth/signup"):m.A.error((null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.error)||(null==e?void 0:e.message))}});var S=s(9627),F=s(374),A=s(2421),z=e=>{let{setPageNumber:t}=e,{setSelectedProjectId:s,selectedProjectId:o}=(0,r.useContext)(u),[i,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{f.current&&(f.current.style.height=i?"".concat(f.current.scrollHeight,"px"):"130px")},[i]);let{data:v,isSuccess:b,isLoading:j}=k();(0,r.useEffect)(()=>{!o&&v&&(null==v?void 0:v.length)&&s(v[0].id)},[b]);let w=(e,t)=>{g(e),p(t)},{mutateAsync:N}=y(),C=async e=>{try{await N({project_id:e,new_name:h}),g("")}catch(e){console.error("Error updating project name:",e)}};return(0,l.jsxs)("div",{className:"border-b border-[#1C2037] pb-4 2xl:pb-7 px-6 mt-5 2xl:mt-10",children:[(0,l.jsxs)("h2",{className:"flex items-center gap-2 text-base text-[#BAC0DD] font-medium px-5",children:[(0,l.jsx)(d.P.file,{}),"Your projects"]}),j?(0,l.jsx)("div",{className:"py-16 flex justify-center",children:(0,l.jsx)(S.Z,{className:"size-8 animate-spin"})}):(null==v?void 0:v.length)?(0,l.jsx)("div",{ref:f,className:"overflow-hidden transition-all duration-500 ease-in-out mt-3",style:{height:"130px"},children:v&&(null==v?void 0:v.map(e=>{let{id:r,name:i}=e;return(0,l.jsxs)("div",{onClick:()=>{t(1),s(r)},className:(0,a.cn)("flex items-center gap-5 justify-between rounded-md hover:bg-[#22263e] cursor-pointer pl-14 pr-5 py-3 ",o===r?"bg-[#22263e]":"bg-transparent"),children:[(0,l.jsx)(n,{value:m===r?h||"":i,onChange:e=>p(e.target.value),className:(0,a.cn)("h-0 text-base bg-transparent   px-0",m===r?"border border-white py-4 cursor-pointer px-2":" border-none"),readOnly:m!==r}),(0,l.jsxs)("div",{className:"flex items-center",children:[m!==r&&(0,l.jsx)(c.z,{onClick:()=>w(r,i),className:"h-0 px-0",children:(0,l.jsx)(d.P.Edit,{className:"w-4 h-auto hover:scale-125"})}),m===r&&(0,l.jsx)(c.z,{onClick:()=>C(r),className:"h-0 px-0 text-sm",children:(0,l.jsx)(F.Z,{className:"w-5 h-auto hover:scale-125"})})]})]},r)}))}):"",!j&&v&&(null==v?void 0:v.length)>3&&(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)(c.z,{onClick:()=>{x(!i)},className:"flex gap-3 text-white bg-transparent hover:bg-[#22263e] 2xl:mt-2",children:[i?"Show less":"See all",(0,l.jsx)(A.Z,{className:(0,a.cn)("transition-all duration-500 ease-in-out",i&&"rotate-180")})]})})]})},_=s(2024),L=s(824),Z=s(385),E=s(3269),I=s(8784),M=s(5526);let D=async e=>(await h.Z.post("app/getProjectHistoryList/",{project_id:e})).data,U=e=>(0,p.useQuery)({queryKey:["project-history",e],queryFn:()=>D(e),enabled:!!e,onError:e=>{var t,s;m.A.error((null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||(null==e?void 0:e.message))}});var P=s(8472);let B=e=>{let{history:t,open:s,handleClose:r,handleConfirm:a}=e;return(0,l.jsxs)(_.Z,{open:s,onClose:r,"aria-labelledby":"delete-confirmation-title","aria-describedby":"delete-confirmation-description",children:[(0,l.jsx)(L.Z,{id:"delete-confirmation-title",children:"Confirm Deletion"}),(0,l.jsx)(Z.Z,{children:(0,l.jsx)(E.Z,{id:"delete-confirmation-description",children:" Are you sure you want to delete this history named ".concat(null==t?void 0:t.name,"? This action cannot be undone")})}),(0,l.jsxs)(I.Z,{children:[(0,l.jsx)("button",{className:"p-2 rounded-md text-gray-700",onClick:()=>r,children:"Cancel"}),(0,l.jsx)("button",{className:"p-2 rounded-md bg-red-600 text-white",onClick:()=>{a(null==t?void 0:t.history_id)},children:"Delete"})]})]})};var q=()=>{let[e,t]=(0,r.useState)(!1),[s,o]=(0,r.useState)(""),[i,n]=(0,r.useState)([]),[d,x]=(0,r.useState)({id:null,status:!1}),h=()=>{t(!0)},p=async e=>{try{let t=await P.Z.delete("https://app.iconocity.com/api/app/getHistoryByHistoryId/",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N.Z.get("token"))},data:{history_id:e}});m.A.success(t.data.data),n(t=>t.filter(t=>t.history_id!=e)),console.log(t)}catch(e){x({id:null,status:!1}),m.A.error("Failed to delete history"),console.error(e)}t(!1)};(0,r.useEffect)(()=>{o(N.Z.get("profile_image")||"/profile.svg")},[]);let{selectedProjectId:g,setSelectedProjectHistoryId:f,selectedProjectHistoryId:b}=(0,r.useContext)(u),[j,w]=(0,r.useState)(!1),[y,C]=(0,r.useState)(null),k=(0,r.useRef)(null);(0,r.useEffect)(()=>{k.current&&(k.current.style.height=j?"".concat(k.current.scrollHeight,"px"):"250px")},[j]);let{data:F,isSuccess:z,isLoading:_}=U(g);(0,r.useEffect)(()=>{F&&(null==F?void 0:F.length)&&(n(F),f(F[0].history_id))},[z,F]);let L=(0,r.useRef)(null),Z=async(e,t)=>{n(s=>s.map(s=>s.history_id===e?{...s,name:t}:s)),L.current&&clearTimeout(L.current),x({id:e,status:!0}),L.current=setTimeout(async()=>{try{let s=await P.Z.put("https://app.iconocity.com/api/app/getHistoryByHistoryId/",{history_id:e,history_name:t},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N.Z.get("token"))}});x({id:null,status:!1}),m.A.success(s.data.data),console.log(s)}catch(e){x({id:null,status:!1}),m.A.error("Failed to update history name."),console.error(e)}},3e3)};return(0,l.jsxs)("div",{className:" pb-7 px-6 mt-5 2xl:mt-10",children:[(0,l.jsx)("div",{className:"flex items-center justify-between text-[#BAC0DD]",children:(0,l.jsxs)("h2",{className:"flex items-center gap-2 text-base font-normal px-5",children:[(0,l.jsx)(M.Z,{className:"w-4 h-auto"}),"History"]})}),_?(0,l.jsx)("div",{className:"py-16 flex justify-center",children:(0,l.jsx)(S.Z,{className:"size-8 animate-spin"})}):(null==i?void 0:i.length)?(0,l.jsx)("div",{ref:k,className:"overflow-hidden transition-all duration-500 ease-in-out mt-4 ",style:{height:"250px"},children:i&&i.slice(0,j?10:3).map(e=>{let{history_id:t,history_date:r,name:o}=e;return(0,l.jsxs)("div",{onClick:()=>f(t),className:(0,a.cn)("cursor-pointer hover:bg-[#22263e] rounded-md px-4 py-3 mb-2",b===t?"bg-[#22263e]":"bg-transparent"),children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,l.jsx)("h1",{className:"text-sm font-bold",children:new Date(r).toLocaleString()}),d.id==t?(0,l.jsx)("p",{className:"text-[11px]",children:"Updating..."}):(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"verified",className:"w-4 h-auto ",children:(0,l.jsx)("path",{fill:"white",d:"M21.6,9.84A4.57,4.57,0,0,1,21.18,9,4,4,0,0,1,21,8.07a4.21,4.21,0,0,0-.64-2.16,4.25,4.25,0,0,0-1.87-1.28,4.77,4.77,0,0,1-.85-.43A5.11,5.11,0,0,1,17,3.54a4.2,4.2,0,0,0-1.8-1.4A4.22,4.22,0,0,0,13,2.21a4.24,4.24,0,0,1-1.94,0,4.22,4.22,0,0,0-2.24-.07A4.2,4.2,0,0,0,7,3.54a5.11,5.11,0,0,1-.66.66,4.77,4.77,0,0,1-.85.43A4.25,4.25,0,0,0,3.61,5.91,4.21,4.21,0,0,0,3,8.07,4,4,0,0,1,2.82,9a4.57,4.57,0,0,1-.42.82A4.3,4.3,0,0,0,1.63,12a4.3,4.3,0,0,0,.77,2.16,4,4,0,0,1,.42.82,4.11,4.11,0,0,1,.15.95,4.19,4.19,0,0,0,.64,2.16,4.25,4.25,0,0,0,1.87,1.28,4.77,4.77,0,0,1,.85.43,5.11,5.11,0,0,1,.66.66,4.12,4.12,0,0,0,1.8,1.4,3,3,0,0,0,.87.13A6.66,6.66,0,0,0,11,21.81a4,4,0,0,1,1.94,0,4.33,4.33,0,0,0,2.24.06,4.12,4.12,0,0,0,1.8-1.4,5.11,5.11,0,0,1,.66-.66,4.77,4.77,0,0,1,.85-.43,4.25,4.25,0,0,0,1.87-1.28A4.19,4.19,0,0,0,21,15.94a4.11,4.11,0,0,1,.15-.95,4.57,4.57,0,0,1,.42-.82A4.3,4.3,0,0,0,22.37,12,4.3,4.3,0,0,0,21.6,9.84Zm-4.89.87-5,5a1,1,0,0,1-1.42,0l-3-3a1,1,0,1,1,1.42-1.42L11,13.59l4.29-4.3a1,1,0,0,1,1.42,1.42Z"})}),(0,l.jsx)("p",{className:"text-[11px] ml-1",children:"saved"})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,l.jsx)(v.default,{src:s||"/profile.svg",width:40,height:40,alt:"profile",className:"w-6 h-6 rounded-full object-cover"}),(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between w-full ",children:[(0,l.jsx)("input",{className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 w-8/12",value:o,onClick:e=>e.stopPropagation(),onChange:e=>{console.log(t,e.target.value),Z(t,e.target.value)}}),(0,l.jsx)("svg",{onClick:e=>{e.stopPropagation(),h(),C({name:o,history_id:t})},className:"w-5 h-auto ",viewBox:"-0.5 0 19 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("g",{id:"out",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",children:(0,l.jsx)("path",{d:"M4.91666667,14.8888889 C4.91666667,15.3571429 5.60416667,16 6.0625,16 L12.9375,16 C13.3958333,16 14.0833333,15.3571429 14.0833333,14.8888889 L14.0833333,6 L4.91666667,6 L4.91666667,14.8888889 L4.91666667,14.8888889 L4.91666667,14.8888889 Z M15,3.46500003 L12.5555556,3.46500003 L11.3333333,2 L7.66666667,2 L6.44444444,3.46500003 L4,3.46500003 L4,4.93000007 L15,4.93000007 L15,3.46500003 L15,3.46500003 L15,3.46500003 Z",id:"path",fill:"white"})})})]})]})]},t)})}):"",!_&&i&&(null==i?void 0:i.length)>3&&(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)(c.z,{onClick:()=>{w(!j)},className:"flex gap-3 text-white bg-transparent hover:bg-[#22263e] mt-2",children:[j?"Show less":"See all",(0,l.jsx)(A.Z,{className:(0,a.cn)("transition-all duration-500 ease-in-out",j&&"rotate-180")})]})}),(0,l.jsx)(B,{history:y,open:e,handleClose:()=>{t(!1)},handleConfirm:p})]})},R=e=>{let{setPageNumber:t}=e;return(0,l.jsxs)("div",{className:"w-72 xl:w-80 2xl:w-96 h-[calc(100vh-74px)] overflow-y-auto hide-scrollbar bg-[#080e28] border-r border-t border-[#1C2037] text-white rounded-tr-[24px]",children:[(0,l.jsx)("div",{className:"project-list",children:(0,l.jsx)(z,{setPageNumber:t})}),(0,l.jsx)("div",{className:"project-history",children:(0,l.jsx)(q,{})})]})},H=s(3274);let O=["#000","#0000FF","#7FFF00","#00FFFF","#808080","#008000","#FFA500","#FF0000","#FF007F","#00FF7F","#EE82EE","#ffffff","#FFFF00"],T=[{icon:(0,l.jsx)(d.P.OutlineStar,{}),text:"Outline",id:"outline"},{icon:(0,l.jsx)(d.P.FillStar,{}),text:"Fill",id:"fill"},{icon:(0,l.jsx)(d.P.LinerColorStar,{}),text:"Lineal color",id:"lineal-color"},{icon:(0,l.jsx)(d.P.HandDrownStar,{}),text:"HandDrawn",id:"hand-drawn"}];var Q=e=>{let{themeColor:t,setThemeColor:s,setSelectedIconStyle:o,selectedIconStyle:i}=e,[n,d]=(0,r.useState)(!0),[u,x]=(0,r.useState)(!1),h=e=>{o(e)};return(0,l.jsxs)("div",{className:"bg-colorPicker-gradient border border-[#1C2037] rounded-2xl p-3 xl:p-5",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-5",children:[(0,l.jsx)("div",{className:"color-selector",children:(0,l.jsx)(c.z,{onClick:()=>{d(!0),x(!1)},className:(0,a.cn)("px-2 py-2 rounded-lg mr-1",n?"bg-[#080e28] text-white":"bg-[#1C223F] text-[#BAC0DD]"),children:"Select Colors"})}),(0,l.jsx)("div",{className:"shape-selector",children:(0,l.jsx)(c.z,{onClick:()=>{x(!0),d(!1)},className:(0,a.cn)("px-2 py-2 rounded-lg ml-1",u?"bg-[#080e28] text-white":"bg-[#1C223F] text-[#BAC0DD]"),children:"Select Shapes"})})]}),n&&(0,l.jsx)("div",{className:(0,a.cn)("transition-all duration-300 overflow-hidden h-[100px]"),children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:O.map((e,r)=>(0,l.jsx)("div",{className:(0,a.cn)("w-6 2xl:w-8 h-6 2xl:h-8 rounded-full cursor-pointer",t===e?"border-2 border-white scale-110":""),style:{backgroundColor:e},onClick:()=>s(e)},r))})}),u&&(0,l.jsx)("div",{className:(0,a.cn)("transition-all duration-300 overflow-hidden mt-5  h-[100px]"),children:(0,l.jsx)("div",{className:"flex flex-wrap gap-3 mt-2",children:T.map((e,t)=>{let{text:s,icon:r,id:o}=e;return(0,l.jsxs)(c.z,{onClick:()=>h(o),className:(0,a.cn)("flex gap-1 bg-[#1C223F] hover:bg-[#080e28] rounded-3xl px-3 2xl:px-4 py-2",i===o?"bg-[#080e28] border border-white":"border border-transparent"),children:[r,(0,l.jsx)("span",{className:"text-xs 2xl:text-sm text-white",children:s})]},t)})})})]})},V=s(8746),K=s(9687),J=s(4697),W=s(992),G=e=>{let{onFileUpload:t,uploadedFiles:s,setUploadedFiles:o,isDisabled:i,url:u,setUrl:x,addedLink:h,setAddedLink:p}=e,[m,g]=(0,r.useState)("upload"),{getRootProps:f,getInputProps:v}=(0,V.uI)({onDrop:e=>{e.length>0&&t(e[0])},accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},multiple:!1,disabled:i});return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,l.jsx)("h1",{className:"text-sm text-[#BAC0DD]",children:"Upload Design"}),(0,l.jsx)(W.Z,{title:"Upload Your File or File Url on this section to generate icons",placement:"top",sx:{tooltip:{padding:"2px 4px",fontSize:"12px"},popper:{margin:"0px"}},children:(0,l.jsx)(K.Z,{className:"w-4 h-4 text-[#7C7F99]"})})]}),(0,l.jsxs)("div",{className:"flex justify-center gap-2 px-4",children:[(0,l.jsx)("button",{onClick:()=>g("upload"),className:(0,a.cn)("image-generator px-4 py-2 rounded-lg border text-sm","upload"===m?"bg-[#1C223F] text-white border-white":"bg-transparent text-[#7C7F99] border-[#7C7F99]"),children:"Upload File"}),(0,l.jsx)("button",{onClick:()=>g("url"),className:(0,a.cn)("url-generator px-4 py-2 rounded-lg border text-sm","url"===m?"bg-[#1C223F] text-white border-white":"bg-transparent text-[#7C7F99] border-[#7C7F99]"),children:"Add File URL"})]}),"upload"===m?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{...f(),className:(0,a.cn)("border-2 border-dashed border-white rounded-lg py-3 mx-4",i?"cursor-not-allowed":"cursor-pointer"),children:[(0,l.jsx)("input",{...v()}),(0,l.jsx)("p",{className:"text-[10px] text-[#7C7F99] text-center ",children:"Drag & Drop or Choose a file to upload"}),(0,l.jsx)(d.P.Upload,{className:"w-3 h-3 mx-auto"})]}),s&&(0,l.jsxs)("div",{className:"flex items-start justify-between bg-link-added-gradient border border-[#32344A] rounded-lg mx-4 mt-4 p-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[s.type.startsWith("image/")?(0,l.jsx)("img",{src:URL.createObjectURL(s),alt:"Uploaded Thumbnail",className:"w-12 h-12 object-cover rounded-lg"}):(0,l.jsx)(d.P.UploadFile,{}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"text-xs text-white",children:s.name}),(0,l.jsxs)("span",{className:"text-[10px] text-[#BAC0DD]",children:[(s.size/1024).toFixed(2)," KB"]})]})]}),(0,l.jsx)(J.Z,{className:"cursor-pointer w-4 h-4 hover:scale-110 text-white",onClick:()=>{o(null)}})]})]}):(0,l.jsxs)("div",{className:" ",children:[(0,l.jsxs)("div",{className:"flex gap-4 items-center bg-link-added-gradient border border-[#32344A] rounded-lg mx-6 py-1 2xl:py-2 px-5",children:[(0,l.jsx)(n,{type:"url",placeholder:"image/figma URL",value:u,onChange:e=>x(e.target.value),disabled:!!s,className:"placeholder:text-[#7C7F99] border-none bg-transparent px-0"}),(0,l.jsx)(c.z,{onClick:()=>{u&&(p(u),x(""))},disabled:!u,className:"text-base bg-transparent hover:bg-transparent px-0",children:"Upload"})]}),h&&h.length>0&&(0,l.jsx)("div",{className:"flex flex-col gap-3 bg-link-added-gradient border border-[#32344A] rounded-lg mt-4 mx-6  p-3",children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,l.jsx)("p",{className:"scrollbar-hide w-[85%] text-[10px] text-blue-400 overflow-auto",children:h}),(0,l.jsx)(c.z,{onClick:()=>p(null),className:"text-sm text-red-400 px-0 bg-transparent hover:bg-transparent h-0",children:(0,l.jsx)(J.Z,{className:"w-4 h-auto text-white hover:scale-125"})})]})})]})]})};let Y=async e=>{let{screen_link:t,icon_color:s,icon_style:l}=e;return(await h.Z.post("app/imageLink/",{screen_link:t,figma_token:N.Z.get("figma_token"),icon_color:s,icon_style:l})).data},X=()=>{let e=(0,p.useQueryClient)();return(0,p.useMutation)({mutationFn:Y,onSuccess:t=>{m.A.success(t.success||"Url has been processed Successfully!"),e.invalidateQueries({queryKey:["get-project-list"]}),console.log(t)},onError:e=>{var t,s,l,r;console.log(e),(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.oauth_url)&&(0,m.A)(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.error,{action:{label:"Allow Access",onClick:()=>{var t,s;window.open(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.oauth_url,"_blank")}}})}})},$=async e=>(await h.Z.post("app/uploadImage/",e)).data,ee=()=>{let e=(0,p.useQueryClient)();return(0,p.useMutation)({mutationFn:$,onSuccess:t=>{m.A.success("Image has been processed Successfully!"),e.invalidateQueries({queryKey:["get-project-list"]})},onError:e=>{var t,s;m.A.error((null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||(null==e?void 0:e.message))}})};var et=e=>{let{setEnableVariation:t,setIsShowingSimilarIcons:s,setKeywords:o,setPageNumber:i}=e,{setSelectedProjectId:n}=(0,r.useContext)(u),[d,x]=(0,r.useState)(null),[h,p]=(0,r.useState)(),[g,f]=(0,r.useState)(""),[v,b]=(0,r.useState)(null),[j,w]=(0,r.useState)(),{mutateAsync:y,isLoading:N}=X(),{mutateAsync:C,isLoading:k}=ee(),S=async()=>{try{var e,l,r,a,c;let u={screen_link:v};if(h&&(u.icon_color=h),j&&(u.icon_style=j),d){let a=new FormData;a.append("image",d),h&&a.append("icon_color",h),j&&a.append("icon_style",j);let c=await C(a,{onSuccess(e){n(e.id),p(""),i(1),w(""),s(!1),t(!1)},onError(e){e.response.data.error&&m.A.error(e.response.data.error)}});o(null==c?void 0:null===(e=c.attributes)||void 0===e?void 0:e.description.split(",").slice(1,4)),console.log("data2?.attributes?.description.split(1,4)",null==c?void 0:null===(l=c.attributes)||void 0===l?void 0:l.description.split(",").slice(1,4)),localStorage.setItem("keywords",JSON.stringify(null==c?void 0:null===(r=c.attributes)||void 0===r?void 0:r.description.split(",").slice(1,4)))}if(v){let e=await y(u,{onSuccess(e){n(e.id),p(""),w(""),s(!1),t(!1)},onError(e){e.response.data.error&&m.A.error(e.response.data.error)}});o(null==e?void 0:null===(a=e.attributes)||void 0===a?void 0:a.description.split(",").slice(1,4));let l=null==e?void 0:null===(c=e.attributes)||void 0===c?void 0:c.description.split(",").slice(1,4).map(e=>e.replace(/['"]+/g,"").trim());localStorage.setItem("keywords",JSON.stringify(l))}x(null),b(null)}catch(e){console.error(e)}};return(0,l.jsxs)("div",{className:"h-[calc(100vh-74px)] w-72 xl:w-80 2xl:w-96 bg-[#080e28] text-white rounded-tl-[24px] p-4 xl:p-5 overflow-y-auto hide-scrollbar",children:[(0,l.jsx)(Q,{setThemeColor:p,themeColor:h,setSelectedIconStyle:w,selectedIconStyle:j}),(0,l.jsx)("div",{className:"bg-colorPicker-gradient border  border-[#1C2037] rounded-2xl py-4 mt-4",children:(0,l.jsx)(G,{onFileUpload:e=>{x(e)},uploadedFiles:d,setUrl:f,addedLink:v,setAddedLink:b,url:g,setUploadedFiles:x,isDisabled:!!v})}),(0,l.jsx)("div",{className:"px-4 mt-4",children:(0,l.jsxs)(c.z,{type:"submit",onClick:S,disabled:N||k||!d&&!v,className:(0,a.cn)("flex gap-2 text-base w-full h-10 2xl:h-12 ",N||k||!d&&!v?"border border-[#04ADA3] bg-transparent cursor-not-allowed":"border-none bg-generate-button-gradient"),children:[(N||k)&&(0,l.jsx)(H.Z,{className:"w-4 h-4 animate-spin"}),"Generate"]})})]})};let es=async e=>{let{history_id:t,page_size:s,page:l}=e;return(await h.Z.post("app/getHistoryByHistoryId/",{history_id:t,page_size:s,page:l})).data},el=e=>{let{history_id:t,page_size:s,page:l}=e;return(0,p.useQuery)({queryKey:["projectIcons",t,s,l],queryFn:()=>es({history_id:t,page_size:s,page:l}),enabled:!!t})};var er=s(518),ea=s(7592);let eo=async e=>(await h.Z.post("app/similarIconSearch/",{icon_id:e})).data,ei=()=>{let e=(0,p.useQueryClient)();return(0,p.useMutation)({mutationFn:eo,onSuccess:t=>(console.log("Icon fetched successfully:",t),e.invalidateQueries({queryKey:["similar-icons"]}),t),onError:e=>{var t,s,l,r;m.A.error((null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||(null==e?void 0:e.message)),console.log((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.error)||(null==e?void 0:e.message))}})};var en=e=>{var t,s;let{isShowingSimilarIcons:a,setIsShowingSimilarIcons:o,activeIcon:i,setActiveIcon:n,pageNumber:d,setPageNumber:x,setEnableVariation:h}=e,[p,m]=(0,r.useState)(0),[g,f]=(0,r.useState)(!1),[b,j]=(0,r.useState)(!1),[w,y]=(0,r.useState)(1),[N,C]=(0,r.useState)(0),[k,F]=(0,r.useState)([]),[A,z]=(0,r.useState)([]),{selectedProjectHistoryId:_}=(0,r.useContext)(u),{data:L,isLoading:Z}=el({history_id:_,page_size:20,page:d}),E=null!==(s=null==L?void 0:null===(t=L.results)||void 0===t?void 0:t.map(e=>({id:Number(e.id),url:e.url})))&&void 0!==s?s:[];(0,r.useEffect)(()=>{(null==L?void 0:L.count)&&(m(Math.ceil((null==L?void 0:L.count)/20)),E&&F(E))},[L,20]);let{mutate:I,isLoading:M,data:D}=ei(),U=e=>{x(1),y(1),I(e),o(!0)};(0,r.useEffect)(()=>{(null==D?void 0:D.similar_icons)&&(C(Math.ceil((null==D?void 0:D.similar_icons.length)/20)),z(D.similar_icons))},[D]),(0,r.useEffect)(()=>{!a&&E&&F(E)},[d,E,a]),(0,r.useEffect)(()=>{a&&F([])},[a]);let P=r.useRef(null);return(0,r.useEffect)(()=>{let e=e=>{P.current&&!P.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,l.jsxs)("div",{className:"bg-[#0E142D] border border-[#1C2037] rounded-2xl px-8 py-5 ",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center my-2 w-full",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-center",children:[(0,l.jsx)("h1",{className:"text-white font-bold text-3xl",children:"Welcome"}),(0,l.jsxs)("svg",{viewBox:"0 0 1024 1024",className:"w-12 h-12",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M506.8 185.8c-164.6 0-298.1 132.4-298.1 295.8 0 104.8 55 196.8 137.8 249.3L288.7 825l137.1-58.8a300.6 300.6 0 0 0 81 11.1c164.6 0 298.1-132.4 298.1-295.8S671.4 185.8 506.8 185.8z",fill:"#F68F3B"}),(0,l.jsx)("path",{d:"M703.9 361.5c-4.9 0-9.7-2.5-12.3-7.1-31.7-54.8-90.6-73.2-91.2-73.4-7.5-2.3-11.7-10.1-9.4-17.6 2.3-7.4 10.2-11.6 17.6-9.4 2.8 0.8 70.1 21.5 107.6 86.3 3.9 6.7 1.6 15.4-5.2 19.2-2.2 1.4-4.7 2-7.1 2zM551.7 268.8c-1.2 0-2.5-0.1-3.7-0.5-21.3-5.7-38.9-3.2-39.1-3.2-7.8 1.2-15-4.1-16.1-11.8-1.2-7.7 4.1-14.8 11.8-16 1-0.1 23.4-3.5 50.8 3.8 7.6 2 12 9.8 10 17.3-1.7 6.2-7.4 10.4-13.7 10.4z",fill:"#FFFFFF"}),(0,l.jsx)("path",{d:"M506.8 167c-174.8 0-317 141.1-317 314.6 0 101.7 48.7 195.7 131.3 254.9l-48.6 78.9c-4.2 6.9-3.5 15.8 1.8 21.9 3.7 4.3 9 6.6 14.4 6.6 2.4 0 4.8-0.5 7.1-1.4L427 786c26.1 6.7 52.9 10.1 79.8 10.1 174.8 0 317-141.1 317-314.6 0-173.4-142.2-314.5-317-314.5z m0 591.6c-25.5 0-51.1-3.5-75.9-10.4-4.1-1.2-8.4-0.9-12.3 0.7l-84.4 37.5 28.4-45.8c5.3-8.7 2.6-20-6-25.5-80.8-51.3-129-138.6-129-233.5 0-152.7 125.2-277 279.1-277s279.1 124.3 279.1 277c0.1 152.7-125.1 277-279 277z",fill:"#211F1E"}),(0,l.jsx)("path",{d:"M661.5 423.4c0-20.7-16.9-37.6-37.9-37.6-20.9 0-37.8 16.8-37.8 37.6 0 20.7 16.9 37.6 37.8 37.6 21 0 37.9-16.8 37.9-37.6zM433.1 423.4c0-20.7-16.9-37.6-37.9-37.6-20.9 0-37.8 16.8-37.8 37.6 0 20.7 16.9 37.6 37.8 37.6 21 0 37.9-16.8 37.9-37.6zM597.5 531.6c-9.7-3.9-20.7 0.7-24.7 10.3-0.2 0.4-16.2 38-63.4 38-48.6 0-61.6-32.8-62.9-36.8-3.2-9.8-13.9-15.1-23.7-12-10 3.1-15.5 13.7-12.3 23.6 0.8 2.6 21 62.8 98.9 62.8 72.3 0 97.4-58.8 98.4-61.3 4-9.7-0.6-20.6-10.3-24.6zM303.2 502.4c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3-3.3-7.3-7.3-7.3zM336.8 502.4c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3c0.1-4-3.2-7.3-7.3-7.3zM320 525.1c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3c0-4.1-3.2-7.3-7.3-7.3zM353.7 525.1c-4 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3c0-4.1-3.3-7.3-7.3-7.3zM336.8 546.9c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3c0.1-4-3.2-7.3-7.3-7.3zM374.8 502.4c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3-3.2-7.3-7.3-7.3zM654.7 502.4c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3c0.1-4-3.2-7.3-7.3-7.3zM688.4 502.4c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3-3.2-7.3-7.3-7.3zM671.6 525.1c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3c0-4.1-3.3-7.3-7.3-7.3zM705.3 525.1c-4 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3c0-4.1-3.3-7.3-7.3-7.3zM688.4 546.9c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3-3.2-7.3-7.3-7.3zM726.4 502.4c-4.1 0-7.3 3.3-7.3 7.3s3.3 7.3 7.3 7.3 7.3-3.3 7.3-7.3-3.3-7.3-7.3-7.3z",fill:"#211F1E"})]})]}),(0,l.jsx)("p",{className:"text-gray-500",children:(a?A:k).length?"Click on icons to view more options":"Upload Image/figma file on bottom right side to generate icons"})]}),(0,l.jsx)("div",{className:"w-11/12 min-h-[352px] mx-auto flex items-center justify-center bg-[#1C2038] rounded-lg py-5 xl:py-10 3xl:py-7 mt-4",children:Z||M?(0,l.jsx)(S.Z,{className:"text-white size-8 animate-spin"}):(a?A:k).length?(0,l.jsx)("div",{className:"w-10/12 grid grid-cols-4 xl:grid-cols-4 gap-4 xl:gap-4 3xl:gap-6",children:(a?A.slice((w-1)*20+1,20*w+1):k).map((e,t)=>(0,l.jsxs)("div",{className:"relative flex flex-col items-center justify-center",children:[(0,l.jsx)(v.default,{src:e.url,width:300,height:300,alt:"svg",className:"w-14 h-14 mx-auto m-2 cursor-pointer",onClick:()=>{console.log(null==i?void 0:i.id),console.log(null==e?void 0:e.id),(null==i?void 0:i.id)===(e.id||e.similar_icon_id)?j(!b):(n({id:e.id||(null==e?void 0:e.similar_icon_id)||0,url:e.url}),j(!0)),console.log(i)}},e.id),b&&(null==i?void 0:i.id)==(e.similar_icon_id||e.id)&&(0,l.jsx)("div",{ref:P,className:"   flex flex-col items-center w-4 h-4 bg-black rounded-full absolute left-[100%] top-[-120px] z-[4000]",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl p-4 relative h-auto w-[180px] flex flex-col items-center justify-center",children:[(0,l.jsx)("button",{onClick:()=>{U(e.id||e.similar_icon_id||0),j(!1),h(!1),n(null)},className:"w-full hover:bg-gray-400 hover:text-white p-2 rounded-md bg-gray-200 text-xs font-bold",children:M?"Searching...":"Search for similar icon"}),(0,l.jsx)("button",{onClick:()=>{h(!1),n(null),j(!1),window.open("https://www.freepik.com/icon/".concat(e.id||e.similar_icon_id,"#fromView=keyword&page=1&position=0&uuid=31cbda18-5c8f-4ebb-8baf-7db46b2eaa4b"),"_blank","noopener,noreferrer")},className:"w-full mt-[2px] hover:bg-gray-400 hover:text-white p-2 rounded-md bg-gray-200 text-xs font-bold",children:"Download Icon"}),(0,l.jsx)("button",{onClick:()=>{h(!0),j(!1),n({id:e.id||e.similar_icon_id||0,url:e.url})},className:"w-full mt-[2px] hover:bg-gray-400 hover:text-white p-2 rounded-md bg-gray-200 text-xs font-bold",children:"Variations"}),(0,l.jsx)("div",{className:"absolute left-7 bottom-[-6px] w-0 h-0 border-l-[8px] border-r-[8px] border-t-[8px] border-t-white border-l-transparent border-r-transparent"})]})})]},e.id))}):(0,l.jsx)("p",{className:"text-white mx-auto text-center",children:"No Icons found!"})}),a&&(0,l.jsxs)("div",{className:"w-full flex flex-row items-center justify-end",children:[(0,l.jsx)("button",{onClick:()=>o(!1),className:"text-white mt-5  mr-6 p-3 bg-[#1C2038] rounded-xl",children:"Go Back"})," "]}),(0,l.jsx)("div",{className:"flex justify-end mt-2",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("p",{className:"text-white",children:[a?null==D?void 0:D.count:null==L?void 0:L.count," icons"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(c.z,{onClick:a?()=>{w>1&&y(w-1)}:()=>{d>1&&(x(d-1),o(!1))},disabled:a?1===w:1===d,className:"h-0 text-black bg-transparent hover:bg-transparent rounded px-0",children:(0,l.jsx)(er.Z,{className:"text-white"})}),(0,l.jsx)("span",{className:"text-white",children:(0,l.jsx)("strong",{children:"".concat(a?w:d," of ").concat(a?N:p)})}),(0,l.jsx)(c.z,{onClick:a?()=>{w<N&&y(w+1)}:()=>{d<p&&(x(d+1),o(!1))},disabled:a?w===N:d===p,className:"h-0 text-white bg-transparent hover:bg-transparent rounded px-0",children:(0,l.jsx)(ea.Z,{className:"text-white"})})]})]})})]})},ec=s(7215);let ed=async e=>{try{let t=atob(e.split(",")[1]||e),s=new ArrayBuffer(t.length),l=new Uint8Array(s);for(let e=0;e<t.length;e++)l[e]=t.charCodeAt(e);let r=new Blob([s],{type:"image/png"}),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download="downloaded-image.png",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}catch(e){console.error("Error downloading the image:",e)}};var eu=e=>{let{activeIcon:t,setPageNumber:s,enableVariation:a}=e,[o,i]=(0,r.useState)(null),[n,c]=(0,r.useState)(!1),[d,u]=r.useState(null),[x,p]=(0,r.useState)(!1),m=e=>{i(e)};return(0,l.jsxs)("div",{className:"relative bg-chatbot-gradient border border-[#1C2037] rounded-2xl px-8 py-5 mt-5",children:[(0,l.jsxs)("div",{className:"w-full flex flex-row items-center",children:[(0,l.jsxs)("h1",{className:"text-white text-sm",children:["No. of Variations: ",o]}),(0,l.jsxs)(ec.fC,{children:[(0,l.jsxs)(ec.xz,{className:"ml-4 inline-flex items-center justify-between w-4/12 px-4 py-2 text-sm text-white bg-gray-800 rounded-md hover:bg-gray-700 focus:outline-none",children:[null!==o?"Variation ".concat(o):"Select Variations",(0,l.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(0,l.jsx)(ec.Uv,{children:(0,l.jsxs)(ec.VY,{className:"mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-lg w-40",sideOffset:5,children:[Array.from({length:4},(e,t)=>(0,l.jsx)(ec.ck,{className:"px-4 py-2 text-white cursor-pointer hover:bg-gray-700 focus:outline-none",onClick:()=>m(t+1),children:t+1},t+1)),(0,l.jsx)(ec.Eh,{className:"fill-gray-800"})]})})]}),(0,l.jsx)("button",{disabled:x||!o,onClick:async()=>{try{p(!0);let e=await P.Z.post("".concat(h.v,"/app/generateIconVariations/\n"),{icon_url:null==t?void 0:t.url,variations:o},{headers:{Authorization:"Bearer ".concat(N.Z.get("token"))}});console.log(e.data),u(e.data),c(!0),p(!1)}catch(e){p(!1),console.error(e)}finally{p(!1)}},className:"text-sm bg-white text-[#1C2037] p-2 rounded-lg ml-4 hover:bg-[#1C2037] hover:text-white border border-white hover:border-[#1C2037] transition-colors duration-300",children:x?"Loading...":"Create"})]}),n&&(0,l.jsx)("div",{className:"grid grid-cols-5 w-full gap-4 mt-4",children:d&&d.map((e,t)=>(0,l.jsxs)("div",{className:"relative w-[80px] h-[80px]  text-white cursor-pointer   flex flex-col items-center justify-center bg-white rounded-lg",onClick:()=>m(t+1),children:[(0,l.jsx)("img",{className:"w-full h-auto ",src:"data:image/png;base64,".concat(e.b64_json),alt:"Variation"}),(0,l.jsx)("div",{className:"    absolute w-full flex flex-row  justify-end items-end bottom-0 left-0",children:(0,l.jsx)("div",{onClick:()=>{ed(e.b64_json)},className:"cursor-pointer flex flex-row items-center justify-center p-1 border  rounded-md bg-[#1C2037]",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",height:20,width:20,children:(0,l.jsx)("path",{d:"M12 16l-4-4h3V4h2v8h3l-4 4z"})})})})]},t+1))})]})},ex=s(5219),eh=s(8997),ep=()=>{let e=(0,ex.useSearchParams)(),[t,s]=r.useState(null),[a,o]=r.useState(null),[i,n]=r.useState([]);r.useEffect(()=>{(async()=>{let t=e.get("code");if(t)try{let e=await P.Z.post("".concat(h.v,"/app/exchangeFigmaCodeForToken/"),{code:t},{headers:{Authorization:"Bearer ".concat(N.Z.get("token"))}});console.log("Response:",e.data.token_data.access_token),o(e.data.token_data.access_token),N.Z.set("figma_token",e.data.token_data.access_token)}catch(e){console.error("Error fetching token:",e)}})()},[e]);let[c,d]=r.useState(null),[u,p]=r.useState(1),[m,g]=r.useState(!1),[f,v]=r.useState(!1),[b,w]=r.useState(!1),[y,C]=r.useState([]);r.useEffect(()=>{let e=localStorage.getItem("#keywords");e&&C(JSON.parse(e))},[]);let[k,S]=r.useState(!1);return r.useEffect(()=>{localStorage.getItem("guideShown")||S(!0)},[]),(0,l.jsx)(x,{children:(0,l.jsxs)("div",{className:"relative flex gap-5 h-full max-h-[100vh] overflow-hidden",children:[(0,l.jsxs)("div",{className:"rounded-full bg-white h-[70px] w-[70px] absolute z-[1000] bottom-10 right-10 flex flex-col items-center justify-center",children:[(0,l.jsx)(eh.ZP,{steps:[{target:".project-list",content:"Here you can find a list of all your active projects. Click on a project to view or edit it."},{target:".project-history",content:"This section shows your project history. Review and revisit your past work here."},{target:".svg-generator",content:"This section contains all your generated icons. If you are not viewing any icon, generate icons after uploading your first image."},{target:".color-selector",content:"This section allows you to select and customize colors for your design. Use it to choose the perfect color palette."},{target:".shape-selector",content:"Here you can find and choose different shapes for your icons. Browse and select to customize your icons effectively."},{target:".image-generator",content:"Upload your image file here to generate icons."},{target:".url-generator",content:"Provide a URL of an image or even a Figma file here to generate icons."},{target:".chat-with-ai",content:"Engage with our AI assistant here. Get answers to your questions and generate icons with our powerful AI model."}],run:k,continuous:!0,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,styles:{options:{zIndex:1e4,backgroundColor:"#1C274C",primaryColor:"#ffffff",textColor:"#ffffff",arrowColor:"#1C274C"},buttonClose:{color:"#fff"},buttonBack:{color:"#ccc"},buttonNext:{color:"#ffffff",backgroundColor:"#1C274C"},buttonSkip:{color:"#ffffff"}},callback:e=>{("finished"===e.status||"skipped"===e.status)&&(S(!1),localStorage.setItem("guideShown","true"))}}),(0,l.jsxs)("svg",{onClick:()=>{v(!0)},className:"chat-with-ai cursor-pointer w-10 h-auto absolute z-10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M22 5C22 6.65685 20.6569 8 19 8C17.3431 8 16 6.65685 16 5C16 3.34315 17.3431 2 19 2C20.6569 2 22 3.34315 22 5Z",fill:"#1C274C"}),(0,l.jsx)("path",{opacity:"0.5",d:"M15.2347 2.53476C14.2201 2.1881 13.132 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39938 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88836 21.6244 10.4003 22 12 22C17.5228 22 22 17.5228 22 12C22 10.868 21.8119 9.77987 21.4652 8.76526C20.7572 9.22981 19.9101 9.5 19 9.5C16.5147 9.5 14.5 7.48528 14.5 5C14.5 4.08987 14.7702 3.24284 15.2347 2.53476Z",fill:"#1C274C"})]}),(0,l.jsx)("div",{className:"absolute z-0",children:(0,l.jsxs)("svg",{viewBox:"0 0 120 120",className:"w-full h-full",children:[(0,l.jsx)("path",{id:"curve",d:"M20,60a40,40 0 1,1 80,0a40,40 0 1,1 -80,0",fill:"transparent"}),(0,l.jsx)("text",{fontWeight:"bold",fontSize:"16",children:(0,l.jsx)("textPath",{href:"#curve",startOffset:"25%",textAnchor:"middle",fill:"#000",fontWeight:"700",children:"Generate with AI"})})]})}),f&&(0,l.jsx)("div",{className:"flex flex-row items-center relative",children:(0,l.jsx)(j,{setShowChat:v,keywords:y,setPageNumber:p,messages:i,setMessages:n})})]}),(0,l.jsx)(R,{setPageNumber:p}),(0,l.jsxs)("div",{className:"h-[calc(100vh-74px)] flex-1 overflow-y-auto hide-scrollbar pb-10",children:[(0,l.jsx)("div",{className:"svg-generator",children:(0,l.jsx)(en,{isShowingSimilarIcons:b,setIsShowingSimilarIcons:w,activeIcon:c,setActiveIcon:d,pageNumber:u,setPageNumber:p,setEnableVariation:g})}),m&&(0,l.jsx)(eu,{activeIcon:c,setPageNumber:p,enableVariation:m})]}),(0,l.jsx)(et,{setEnableVariation:g,setIsShowingSimilarIcons:w,setKeywords:C,setPageNumber:p})]})})},em=()=>(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{children:"loading..."}),children:(0,l.jsx)(ep,{})})}},function(e){e.O(0,[249,242,198,467,261,830,971,23,744],function(){return e(e.s=9866)}),_N_E=e.O()}]);